framework:
    test: ~
    secret: secret
    router:
        resource: "%kernel.root_dir%/config/routing.yml"

security:
    providers:
        in_memory:
            memory:
                users:
                    user1: { password: pass1, roles: ROLE_USER }
                    user2: { password: pass2, roles: ROLE_USER }
    encoders:
        Symfony\Component\Security\Core\User\User: plaintext

    firewalls:
        main:
            pattern:   ^/
            anonymous: ~
            http_basic: ~

vich_uploader:
    db_driver: orm
    mappings:
        picture:
            uri_prefix: /images
            upload_destination: %kernel.cache_dir%/images
            namer: vich_uploader.namer_uniqid

hshn_serializer_extra:
    authority:
        classes:
            Hshn\SerializerExtraBundle\Functional\Bundle\Entity\Post:
                attributes: OWNER
                max_depth: 0
    vich_uploader:
        classes:
            Hshn\SerializerExtraBundle\Functional\Bundle\Entity\Picture:
                files:
                    - { property: file, export_to: file_url }

services:
    post_voter:
        class: Hshn\SerializerExtraBundle\Functional\Bundle\Security\Voter\PostVoter
        tags:
            - { name: security.voter }
